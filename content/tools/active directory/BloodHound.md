---
tags:
  - tool
aliases:
---
## Pre-made commands
##### Import the sharphound script to memory
```powershell
Import-Module .\Sharphound.ps1
```
##### Collect ALL data possible by sharphound. this data will be analyzed by bloodhound.
```powershell
Invoke-BloodHound -CollectionMethod All -OutputDirectory C:\Users\stephanie\Desktop\ -OutputPrefix "corp audit"
```
##### Transfer the data to kali machine, and run the following command to start the bloodhound server
```shell
sudo neo4j start && bloodhound
```
##### Open http://localhost:7474 and connect with neo4j - default u/n and pass are both `neo4j`
##### In the bloodhound app, on the right hand side, upload the .zip you transferred from the windows machine
![[Pasted image 20240201012632.png]]
##### Open the hamburger in the top left and use the analysis tab to generate reports
![[Pasted image 20240201012836.png]]
##### Shortest paths is powerful, for example shortest path to domain admins
##### Right click the edge lines and click ? help for more info
![[Pasted image 20240201012849.png]]
![[Pasted image 20240201012858.png]]
##### Right click a user that you have control of and select "Mark user as owned". Owned users will show with a skull next to their icon. You can now select the analysis "Shortest path to Domain Admins from owned users"

___
## Useful Queries

##### Display all active sessions in the domain
```bloodhound
MATCH p = (c:Computer)-[:HasSession]->(m:User) RETURN p
```